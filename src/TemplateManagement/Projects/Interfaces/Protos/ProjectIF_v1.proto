
// <auto-generated>
//     This code was generated by d3i.interpreter
//
//     Changes to this file may cause incorrect behavior and will be lost if the code is regenerated.
// </auto-generated>
syntax = "proto3";

option csharp_namespace = "TemplateManagement.Projects.Protos.ProjectIF_v1";
option java_outer_classname = "ProjectIF_v1";
option java_package = "com.Projects";
option java_multiple_files = true;

package TemplateManagement.Projects;

import "google/protobuf/empty.proto";
import "google/protobuf/timestamp.proto";
import "servicekit/error.proto";

service ProjectIF_v1 {
	rpc createProject(ProjectIF_v1_createProjectRequest) returns (ProjectIF_v1_createProjectResponse);
	rpc updateProject(ProjectIF_v1_updateProjectRequest) returns (ProjectIF_v1_updateProjectResponse);
	rpc listAccessibleProjects(google.protobuf.Empty) returns (ProjectIF_v1_listAccessibleProjectsResponse);
	rpc listAccessibleProjectsForUser(ProjectIF_v1_listAccessibleProjectsForUserRequest) returns (ProjectIF_v1_listAccessibleProjectsForUserResponse);
	rpc getProject(ProjectIF_v1_getProjectRequest) returns (ProjectIF_v1_getProjectResponse);
	rpc addProjectAccess(ProjectIF_v1_addProjectAccessRequest) returns (ProjectIF_v1_addProjectAccessResponse);
}

message ProjectIF_v1_createProjectRequest {
	string name = 1;
	string description = 2;
}

message ProjectIF_v1_createProjectResponse {
	oneof result {
		ProjectSummaryDTO Value = 1;
		ServiceKit.Protos.Error Error = 2;
	}
}

message ProjectIF_v1_updateProjectRequest {
	ProjectDetailsDTO project = 1;
}

message ProjectIF_v1_updateProjectResponse {
	oneof result {
		ProjectDetailsDTO Value = 1;
		ServiceKit.Protos.Error Error = 2;
	}
}
message ProjectIF_v1_listAccessibleProjectsResponse {
	oneof result {
		list_ProjectIdentityAssignmentDTO Value = 1;
		ServiceKit.Protos.Error Error = 2;
	}
}

message ProjectIF_v1_listAccessibleProjectsForUserRequest {
	string userId = 1;
}

message ProjectIF_v1_listAccessibleProjectsForUserResponse {
	oneof result {
		list_ProjectIdentityAssignmentDTO Value = 1;
		ServiceKit.Protos.Error Error = 2;
	}
}

message ProjectIF_v1_getProjectRequest {
	string projectId = 1;
}

message ProjectIF_v1_getProjectResponse {
	oneof result {
		ProjectDetailsDTO Value = 1;
		ServiceKit.Protos.Error Error = 2;
	}
}

message ProjectIF_v1_addProjectAccessRequest {
	string projectId = 1;
	string identityId = 2;
	ProjectAccessRoles role = 3;
}

message ProjectIF_v1_addProjectAccessResponse {
	oneof result {
		ProjectAccessDTO Value = 1;
		ServiceKit.Protos.Error Error = 2;
	}
}

enum ProjectStatuses {
	/// A projekt még kialakítás alatt áll, sablonokat lehet hozzáadni, de nem éles.
	ProjectStatuses_Draft = 0;

	/// A projekt éles állapotban van, a benne lévő sablonokat használják, csak korlátozottan módosítható.
	ProjectStatuses_Active = 1;

	/// A projekt lezárva vagy lefagyasztva, tartalma nem módosítható (pl. audit miatt).
	ProjectStatuses_Locked = 2;

	/// A projekt kivezetett, csak olvasható, történeti célból van megtartva.
	ProjectStatuses_Archived = 3;

	/// A projekt törlésre lett jelölve, de még nem véglegesen törölt audit miatt.
	ProjectStatuses_Deleted = 4;

}


enum ProjectAccessRoles {
	/// Csak olvasásra jogosult
	ProjectAccessRoles_Reader = 0;

	/// Módosíthat sablonokat, mappákat
	ProjectAccessRoles_Editor = 1;

	/// Teljes hozzáférés, hozzáférések kezelése is
	ProjectAccessRoles_Owner = 2;

	/// Csak audit/jogosultság-nézethez van hozzáférése
	ProjectAccessRoles_Auditor = 3;

	/// Csak a hozzáférések kezelése
	ProjectAccessRoles_Admin = 4;

}


enum ProjectAccessStatuses {
	/// Meghívás elküldve, még nincs elfogadva. (pl. emailes invite)
	ProjectAccessStatuses_Pending = 0;

	/// Hozzáférés él, a felhasználó vagy rendszer rendelkezik a szerepkörrel
	ProjectAccessStatuses_Active = 1;

	/// Átmenetileg inaktiválva (pl. biztonsági okból, fiók zárolása).
	ProjectAccessStatuses_Suspended = 2;

	/// Visszavonva manuálisan. Már nem érvényes.
	ProjectAccessStatuses_Revoked = 3;

	/// Törölve, de még auditálás miatt megvan az adat.
	ProjectAccessStatuses_Deleted = 4;

}

message ProjectSummaryDTO {
	string id = 1;
	string Name = 2;
	string Description = 3;
	repeated string Tags = 4;
	ProjectStatuses Status = 5;
}

message ProjectFolderDTO {
	string id = 1;
	string Name = 2;
	string Description = 3;
	repeated ProjectFolderDTO SubFolders = 4;
}

message ProjectIdentityAssignmentDTO {
	string ProjectId = 1;
	string ProjectName = 2;
	string ProjectDescription = 3;
	ProjectStatuses ProjectStatus = 4;
	string IdentityId = 5;
	string IdentityName = 6;
	ProjectAccessRoles AccessRole = 7;
	ProjectAccessStatuses AccessStatus = 8;
}

message ProjectAccessDTO {
	string id = 1;
	string etag = 2;
	google.protobuf.Timestamp LastUpdate = 3;
	string IdentityId = 4;
	string IdentityName = 5;
	ProjectAccessRoles Role = 6;
	ProjectAccessStatuses Status = 7;
}

message ProjectDetailsDTO {
	string id = 1;
	string etag = 2;
	google.protobuf.Timestamp LastUpdate = 3;
	string Name = 4;
	string Description = 5;
	repeated string Tags = 6;
	ProjectStatuses Status = 7;
	repeated ProjectFolderDTO SubFolders = 8;
	repeated ProjectAccessDTO Accesses = 9;
	google.protobuf.Timestamp CreatedAt = 10;
	string CreatedBy = 11;
}

message list_ProjectIdentityAssignmentDTO {
	repeated ProjectIdentityAssignmentDTO Value = 1;
}

