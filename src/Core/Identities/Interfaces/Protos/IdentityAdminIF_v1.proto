
// <auto-generated>
//     This code was generated by d3i.interpreter
//
//     Changes to this file may cause incorrect behavior and will be lost if the code is regenerated.
// </auto-generated>
syntax = "proto3";

option csharp_namespace = "Core.Identities.Protos.IdentityAdminIF_v1";
option java_outer_classname = "IdentityAdminIF_v1";
option java_package = "com.Identities";
option java_multiple_files = true;

package Core.Identities;

import "google/protobuf/empty.proto";
import "google/protobuf/timestamp.proto";
import "srvkit/error.proto";

service IdentityAdminIF_v1 {
	rpc RegisterLdapDomain(IdentityAdminIF_v1_RegisterLdapDomainRequest) returns (IdentityAdminIF_v1_RegisterLdapDomainResponse);
	rpc GetAllRegisteredLdapDomain(google.protobuf.Empty) returns (IdentityAdminIF_v1_GetAllRegisteredLdapDomainResponse);
	rpc GetRegisteredLdapDomain(IdentityAdminIF_v1_GetRegisteredLdapDomainRequest) returns (IdentityAdminIF_v1_GetRegisteredLdapDomainResponse);
	rpc UpdateRegisteredLdapDomain(IdentityAdminIF_v1_UpdateRegisteredLdapDomainRequest) returns (IdentityAdminIF_v1_UpdateRegisteredLdapDomainResponse);
	rpc getAllAccount(google.protobuf.Empty) returns (IdentityAdminIF_v1_getAllAccountResponse);
	rpc getAccount(IdentityAdminIF_v1_getAccountRequest) returns (IdentityAdminIF_v1_getAccountResponse);
}

message IdentityAdminIF_v1_RegisterLdapDomainRequest {
	LdapDomainDTO ldap = 1;
}

message IdentityAdminIF_v1_RegisterLdapDomainResponse {
	oneof result {
		LdapDomainDTO Value = 1;
		ServiceKit.Protos.Error Error = 2;
	}
}
message IdentityAdminIF_v1_GetAllRegisteredLdapDomainResponse {
	oneof result {
		list_LdapDomainSummaryDTO Value = 1;
		ServiceKit.Protos.Error Error = 2;
	}
}

message IdentityAdminIF_v1_GetRegisteredLdapDomainRequest {
	string id = 1;
}

message IdentityAdminIF_v1_GetRegisteredLdapDomainResponse {
	oneof result {
		LdapDomainDTO Value = 1;
		ServiceKit.Protos.Error Error = 2;
	}
}

message IdentityAdminIF_v1_UpdateRegisteredLdapDomainRequest {
	LdapDomainDTO ldap = 1;
}

message IdentityAdminIF_v1_UpdateRegisteredLdapDomainResponse {
	oneof result {
		LdapDomainDTO Value = 1;
		ServiceKit.Protos.Error Error = 2;
	}
}
message IdentityAdminIF_v1_getAllAccountResponse {
	oneof result {
		list_AccountSummaryDTO Value = 1;
		ServiceKit.Protos.Error Error = 2;
	}
}

message IdentityAdminIF_v1_getAccountRequest {
	string id = 1;
}

message IdentityAdminIF_v1_getAccountResponse {
	oneof result {
		AccountDTO Value = 1;
		ServiceKit.Protos.Error Error = 2;
	}
}

enum AccountTypesDTO {
	AccountTypesDTO_User = 0;
	AccountTypesDTO_ExternalSystem = 1;
	AccountTypesDTO_InternalService = 2;
}

message LdapDomainDTO {
	message DomainController {
		/// Hostname or IP address of the DC
		string host = 1;
		/// LDAP or LDAPS port (e.g. 389 or 636)
		int32 port = 2;
	}

	string id = 1;
	string etag = 2;
	google.protobuf.Timestamp LastUpdate = 3;
	/// Fully Qualified Domain Name (e.g. yourdomain.local)
	string name = 4;
	/// Optional description or notes
	string description = 5;
	/// NetBIOS name (e.g. YOURDOMAIN)
	string netbiosName = 6;
	/// List of Domain Controller hostnames or IP addresses
	repeated DomainController domainControllers = 7;
	/// Base Distinguished Name (where LDAP queries start, e.g. DC=yourdomain,DC=local)
	string baseDn = 8;
	/// Whether to use secure LDAP (LDAPS)
	bool useSecureLdap = 9;
	/// Service account username used for directory queries (if required)
	string serviceAccountUser = 10;
	/// Service account password (should be stored securely/encrypted)
	string serviceAccountPassword = 11;
}

message LdapDomainSummaryDTO {
	string id = 1;
	/// Fully Qualified Domain Name (e.g. yourdomain.local)
	string name = 2;
	/// Optional description or notes
	string description = 3;
}

message AccountSummaryDTO {
	string id = 1;
	AccountTypesDTO Type = 2;
	string Name = 3;
	bool isActive = 4;
}

message AccountDTO {
	string id = 1;
	string etag = 2;
	google.protobuf.Timestamp LastUpdate = 3;
	AccountTypesDTO Type = 4;
	string Name = 5;
	bool isActive = 6;
	repeated ContactInfo contacts = 7;
}

message ContactInfo {
	string contactType = 1;
	string email = 2;
	string phoneNumber = 3;
}

message list_LdapDomainSummaryDTO {
	repeated LdapDomainSummaryDTO Value = 1;
}

message list_AccountSummaryDTO {
	repeated AccountSummaryDTO Value = 1;
}

